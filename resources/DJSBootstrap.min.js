function DJSBootstrap(a,b){this.code_=b;this.identifier_=a;if(window.localStorage){localStorage.diffable||(localStorage.diffable=JSON.stringify({}));this.ls_=JSON.parse(localStorage.diffable)}}
DJSBootstrap.prototype.bootstrap=function(a,b){if(window.deltajs[this.identifier_].cv==a)this.applyAndExecute();else{var d=this;window.deltajs[this.identifier_].load=function(){d.applyAndExecute.apply(d,arguments)};var c=document.createElement("script");c.src=b+this.identifier_+"_"+a+"_"+window.deltajs[this.identifier_].cv+".diff";document.getElementsByTagName("head")[0].appendChild(c)}};
DJSBootstrap.prototype.globalEval_=function(a){window.execScript?window.execScript(a):window.eval.call(window,a)};DJSBootstrap.prototype.applyAndExecute=function(a){var b=this.code_;if(a)b=DJSBootstrap.apply_(this.code_,a);if(this.ls_){this.ls_[this.identifier_]={v:window.deltajs[this.identifier_].cv,c:b};localStorage.diffable=JSON.stringify(this.ls_)}this.globalEval_(b)};
DJSBootstrap.apply_=function(a,b){for(var d=[],c=0;c<b.length;c++)if(typeof b[c]=="number"){d.push(a.substring(b[c],b[c]+b[c+1]));++c}else typeof b[c]=="string"&&d.push(b[c]);return d.join("")};DJSBootstrap.loadVersion=function(a){var b=document.createElement("script");b.src="/diffable/"+a;document.getElementsByTagName("head")[0].appendChild(b)};
DJSBootstrap.checkStorage=function(a,b){if(!window.localStorage||!window.localStorage.diffable)DJSBootstrap.loadVersion(a);else{var d=JSON.parse(localStorage.diffable);if(d[a]&&d[a].v===b)window.execScript?setTimeout(window.execScript,2,d[a].c):window.eval.call(window,d[a].c);else DJSBootstrap.loadVersion(a)}};
